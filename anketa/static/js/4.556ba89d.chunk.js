(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{872:function(e,t,a){e.exports=a.p+"static/media/city.image.de5cecbe.svg"},900:function(e,t,a){e.exports=a.p+"static/media/warning.a134f9bf.svg"},904:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(909),r=a(754),s=a(16),i=a(17),o=a(19),m=a(18),d=a(15),u=a(20),h=a(27),p=a.n(h),f=a(872),b=a.n(f),E=a(14),v=a.n(E),y=a(13),N=a(32),g=a.n(N),x=a(8),k=a.n(x),S=a(11),j=a.n(S),O=a(12),_=a.n(O),w=a(161),C=a(873),F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={type:null,iin:"",status:"clean"},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.type,n=t.iin,l=t.status,r=this.props.className,s=void 0===r?"":r;return c.a.createElement("div",{className:s,style:{minHeight:"500px"}},c.a.createElement(p.a,{size:"m",className:"text-center"},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-6 text-center text-md-right mb-4"},c.a.createElement(v.a,{ty:!0,onClick:function(){return e.setState({type:"\u0418\u041f"})},className:"button_width_150 "+("\u0418\u041f"===a?"blued":"")},"\u0418\u041f")),c.a.createElement("div",{className:"col-sm-6 text-center text-md-left mb-4"},c.a.createElement(v.a,{onClick:function(){return e.setState({type:"\u0422\u041e\u041e"})},className:"button_width_150 "+("\u0422\u041e\u041e"===a?"blued":"")},"\u0422\u041e\u041e"))),a&&c.a.createElement("div",{className:"d-block mx-auto my-5",style:{width:"300px"}},c.a.createElement(g.a,{className:"fade_in-to_top",onSubmit:this.handleSubmit},c.a.createElement(k.a,{className:"pb-3"},c.a.createElement(_.a,null,"\u0418\u041f"===a?"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0418\u0418\u041d":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0411\u0418\u041d"),c.a.createElement(j.a,{width:"available",mask:"111 111 111 111",placeholder:"### ### ### ###",value:n,onChange:function(t){return e.setState({iin:t})}})),c.a.createElement("div",{className:"text-right"},c.a.createElement("div",{className:"d-inline-block",style:{width:"100px"}},c.a.createElement(v.a,{type:"submit",size:"s",width:"available",disabled:!this.isValid||"loading"===l},"loading"!==l&&"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c","loading"===l&&c.a.createElement(C.BarLoader,{width:60})))))))}},{key:"handleSubmit",value:function(){var e=this,t=(this.state.iin.match(/\d+/g)?this.state.iin.match(/\d+/g):[]).join(""),a=this.state.type;this.setState({status:"loading"}),w.a.checkIIN(t).then(function(n){e.setState({status:"success"}),e.props.onSuccess(Object(y.a)({},n,{iin:t,type:a}))}).catch(function(t){e.setState({status:"error"}),e.props.onError(Object(y.a)({},t))})}},{key:"isValid",get:function(){return 12===(this.state.iin.match(/\d+/g)?this.state.iin.match(/\d+/g):[]).join("").length}}]),t}(c.a.Component);F.defaultProps={onSuccess:function(){},onError:function(){}};var z=F,T=a(900),I=a.n(T);var J=function(e){var t=e.title,a=void 0===t?null:t,n=e.message,l=void 0===n?null:n,r=e.className,s=void 0===r?"":r,i=e.body;return c.a.createElement("div",{className:"error-block "+s},c.a.createElement("div",{className:"d-block d-md-flex text-left"},c.a.createElement("img",{src:I.a,alt:"",height:"50px",className:"d-inline-block mx-3 ml-md-0"}),c.a.createElement("div",null,!!a&&c.a.createElement(_.a,{className:"d-block my-2",theme:"alfa-on-color",size:"l"},c.a.createElement("span",{className:"font-bold"},a)),!!l&&c.a.createElement(_.a,{className:"d-block my-3",theme:"alfa-on-color",size:"m"},l),!!i&&c.a.createElement(i,null))))},V=a(910),B=a(3),H=a(52),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={started:0,page:0,data:null,error:null},a.openForm=a.openForm.bind(Object(d.a)(a)),a.handleSuccess=a.handleSuccess.bind(Object(d.a)(a)),a.handleError=a.handleError.bind(Object(d.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"openForm",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;console.log(t),this.setState({started:t}),setTimeout(function(){e.setState({page:t})},300)}},{key:"handleSuccess",value:function(e){this.openForm(2),this.setState({data:e})}},{key:"handleError",value:function(e){this.openForm(3),this.setState({error:e}),console.log(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.page,n=t.started,l=t.data,r=t.error;return c.a.createElement("div",{className:"add-order-page"},c.a.createElement(p.a,{size:"xl",className:"mt-3 text-center"},"\u041e\u043d\u043b\u0430\u0439\u043d \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435 \u0441\u0447\u0435\u0442\u0430"),0===a&&c.a.createElement("div",{className:0===n?"fade_in-to_left":"fade_out-to_left"},c.a.createElement("div",{className:"text-center"},c.a.createElement("img",{src:b.a,alt:""})),c.a.createElement("div",{className:"text-center"},c.a.createElement("div",{className:"inherit mx-2"},c.a.createElement(v.a,{onClick:function(){return e.openForm()}},"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0447\u0435\u0442")))),1===a&&c.a.createElement(z,{className:1===n?"fade_in-to_left":"fade_out-to_left",onSuccess:this.handleSuccess,onError:this.handleError}),2===a&&c.a.createElement("div",{className:"text-center "+(2===n?"fade_in-to_left":"fade_out-to_left")},c.a.createElement(_.a,{className:"d-block my-3 opacity-middle"},"\u042d\u0442\u043e \u0432\u0430\u0448\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f?"),c.a.createElement(_.a,{size:"xl"},"\xab",l.name,"\xbb"),c.a.createElement("div",{className:"text-center my-3"},c.a.createElement(v.a,{onClick:function(){return e.openForm(1)},className:"mx-2"},"\u041d\u0435\u0442"),c.a.createElement(V.a,{to:"/dashboard/add/company/base",className:"d-inline-block inherit mx-2"},c.a.createElement(v.a,{onClick:function(){return e.props.setClientType(l.type)},view:"extra"},"\u0414\u0430")))),3===a&&c.a.createElement("div",{className:3===n?"fade_in-to_left":"fade_out-to_left"},c.a.createElement(J,{className:"my-5",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435",message:r.message}),c.a.createElement("div",{className:"text-center"},c.a.createElement(v.a,{onClick:function(){return e.openForm(1)},className:"mx-2"},"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"))))}}]),t}(c.a.Component),P=Object(H.b)(null,function(e){return{setClientType:function(t){return e({type:B.a+B.y,payload:t})}}})(L),q=a(38),A=a(168),D=a(907),G=a(902),K=a(167),M=a(46);var Q=Object(H.b)(function(e){return{clientType:e.accountForm.clientType}})(Object(G.a)(function(e){var t=e.clientType,a=Object(A.a)(e,["clientType"]),n=Object(q.a)(K.a).filter(function(e){return-1!==e.acceptFor.indexOf(t)}),s=a.history.location.pathname,i=n.findIndex(function(e){return e.url===s}),o=n.find(function(e){return e.url===s});function m(){n[i+1]&&a.history.push(n[i+1].url)}return c.a.createElement("div",{className:"add-company-page"},c.a.createElement("div",{className:"progress-bar mt-2  mb-4"},c.a.createElement(M.Steps,{className:"el-reboot-steps mt-5",active:i,finishStatus:"success"},n.map(function(e){return c.a.createElement(M.Steps.Step,{key:e.url,title:e.label})}))),o&&c.a.createElement(p.a,{size:"l",className:"mt-5 mb-4"},o.header?o.header:o.label),c.a.createElement("div",{className:"tab-content"},c.a.createElement(l.a,null,n.map(function(e,t){var a=e.component,n=Object(A.a)(e,["component"]);return c.a.createElement(r.a,{path:n.url,component:a?function(){return c.a.createElement(a,{onSubmit:m})}:function(){return c.a.createElement("div",null,"No content")},key:"route_"+t})}),c.a.createElement(D.a,{from:"/dashboard/add/company",to:n[0].url}))))}));t.default=function(){return c.a.createElement("div",null,c.a.createElement(l.a,null,c.a.createElement(r.a,{path:"/dashboard/add",exact:!0,component:P}),c.a.createElement(r.a,{path:"/dashboard/add/company",component:Q})))}}}]);
//# sourceMappingURL=4.556ba89d.chunk.js.map