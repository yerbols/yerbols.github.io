{"version":3,"sources":["pages/DashboardPage/DashboardMenu.js","pages/DashboardPage/DashboardHeader.js","pages/DashboardPage/DashboardPage.js"],"names":["withRouter","connect","state","clientType","accountForm","_ref","_ref$routes","routes","props","Object","objectWithoutProperties","routeByRouter","e","preventDefault","route","currentTarget","getAttribute","activeRoute","history","push","navs","toConsumableArray","addCompanyTabs","filter","tab","acceptFor","indexOf","location","pathname","activeIndex","findIndex","nav","url","react_default","a","createElement","application_menu_default","assign","theme","r","onNav","map","_ref2","path","label","_ref2$isExact","isExact","navOptions","application_menu_item_default","checked","onClick","key","label_default","className","application_menu_group_default","title","isExpanded","_ref3","index","access","disabled","isSubItem","username","user","user_full_name","_ref$username","concat","user_default","text","icon","person_default","size","NavLink","to","settings_default","logout_default","AddOrder","lazy","__webpack_require__","then","bind","dispatch","getUser","fetchUserData","light","forced","lifecycle","componentDidMount","component","add_default","defaultReroute","page_default","header","header_default","menu","DashboardPage_DashboardMenu","rightContent","DashboardPage_DashboardHeader","footer","footer_default","copyright","Switch","Route","exact","LazyComponent","Redirect","from"],"mappings":"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","file":"static/js/3.c76962e3.chunk.js","sourcesContent":["import React from 'react';\nimport ApplicationMenu from \"arui-private/application-menu\";\nimport ApplicationMenuItem from \"arui-private/application-menu-item\";\nimport {withRouter} from \"react-router-dom\";\nimport Label from \"arui-feather/label\";\nimport ApplicationMenuGroup from \"arui-private/application-menu-group\";\nimport {addCompanyTabs} from \"../../_store/accountForm\";\nimport {connect} from \"react-redux\";\n\nconst DashboardMenu = ({routes=[], clientType, ...props}) => {\n\t\n\tconst routeByRouter = (e) => {\n\t\t\n\t\te.preventDefault();\n\t\tconst route = e.currentTarget.getAttribute('href');\n\t\tif (activeRoute !== route) {\n\t\t\tprops.history.push(route);\n\t\t}\n\t};\n\t\n\tconst navs = [...addCompanyTabs].filter(tab => tab.acceptFor.indexOf(clientType) !== -1);\n\tconst activeRoute = props.history.location.pathname;\n\tconst activeIndex = navs.findIndex(nav => nav.url === activeRoute);\n\t\n\treturn (\n\t\t<ApplicationMenu theme=\"alfa-on-color\" {...props}>\n\t\t\t{ routes.filter(r => r.onNav).map(\n\t\t\t\t({path, label, isExact=false, navOptions}) =>\n\t\t\t\t\t<ApplicationMenuItem\n\t\t\t\t\t\tchecked={((activeRoute.indexOf(path) === 0 && !isExact) || (activeRoute === path && isExact)) && activeRoute.indexOf('dashboard/add/company') === -1}\n\t\t\t\t\t\tonClick={routeByRouter}\n\t\t\t\t\t\turl={path} key={path}\n\t\t\t\t\t\t{...navOptions}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label className=\"mr-auto\">{label}</Label>\n\t\t\t\t\t</ApplicationMenuItem>\n\t\t\t)}\n\t\t\t{\n\t\t\t\tactiveRoute.indexOf('dashboard/add/company') !== -1 &&\n\t\t\t\t<ApplicationMenuGroup title=\"Новая компания\" isExpanded checked>\n\t\t\t\t\t{navs.map(({label, url, access}, index) => (\n\t\t\t\t\t\t<ApplicationMenuItem onClick={routeByRouter}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t disabled={index>activeIndex && !access}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t key={url}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t isSubItem\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t url={url}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t checked={activeRoute === url}\n\t\t\t\t\t\t>{label}</ApplicationMenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</ApplicationMenuGroup>\n\t\t\t}\n\t\t</ApplicationMenu>\n\t)\n};\n\n\nconst mapStateToProps = (state) => ({\n\tclientType: state.accountForm.clientType\n});\n\nexport default withRouter(connect(mapStateToProps)(DashboardMenu));\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport UserIcon from 'arui-feather/icon/entity/person'\nimport SettingsIcon from 'arui-feather/icon/action/settings'\nimport LogoutIcon from 'arui-feather/icon/action/logout'\nimport {NavLink} from 'react-router-dom'\nimport User from 'arui-private/user';\n\nconst DashboardHeader = ({username=\"Загрузка\", className}) => {\n  \n  return (\n    <div className={`dashboard-header ${className}`}>\n      <div className=\"d-flex align-items-center justify-content-end flex-nowrap\">\n        <User text={username} icon={<UserIcon size=\"m\"/>} className=\"mr-4\"/>\n        <NavLink to=\"/dashboard/settings\" className=\"mr-4\" title=\"Настройки\">\n          <SettingsIcon size=\"m\"/>\n        </NavLink>\n        <NavLink to=\"/logout\" title=\"Выход\">\n          <LogoutIcon size=\"m\"/>\n        </NavLink>\n      </div>\n    </div>\n  )\n};\n\nexport default connect(\n  state => ({\n    username: state.user.user_full_name\n  })\n)(DashboardHeader);\n","import React, {lazy} from 'react';\nimport './DashboardPage.css';\nimport lifecycle from 'react-pure-lifecycle';\nimport DashboardMenu from \"./DashboardMenu\";\nimport {Redirect, Route, Switch, withRouter} from 'react-router-dom';\nimport DashboardHeader from './DashboardHeader';\nimport LazyComponent from '../../components/LazyComponent';\nimport {fetchUserData} from '../../_store/user';\nimport Header from \"arui-private/header\";\nimport Page from \"arui-private/page\";\nimport {connect} from \"react-redux\";\nimport Footer from \"arui-private/footer\";\nimport Label from \"arui-feather/label\";\nimport PlusIcon from \"arui-feather/icon/action/add\";\n// const CompanyList  = lazy( () => import('../CompanyList/CompanyList'));\nconst AddOrder  = lazy( () => import('../AddOrder/AddOrder'));\n\nconst DashboardPage = () => {\n\n\tconst routes = [\n\t\t// { path: '/dashboard/orders', onNav: true, label: 'Мои компании', component: CompanyList, access: true, isExact: true },\n\t\t{ path: '/dashboard/add', onNav: true, label: 'Добавить', component: AddOrder, access: true, isExact: false, navOptions: {icon: <PlusIcon/>}, },\n\t];\n\tconst defaultReroute = routes[0].path;\n\treturn (\n\t\t<div className=\"dashboard-body\">\n\t\t\t<Page\n\t\t\t\theader={\n\t\t\t\t\t<Header\n\t\t\t\t\t\tmenu={<DashboardMenu routes={routes}/>}\n\t\t\t\t\t\trightContent={<DashboardHeader/>}\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tfooter={\n\t\t\t\t\t<Footer copyright={<Label size=\"s\" className=\"opacity-middle\">© 2001-2019 Альфа-Банк</Label>}/>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div className=\"dashboard-content container px-4\">\n\t\t\t\t\t<div className=\"\">\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\troutes.filter(r => r.access).map(r => <Route path={r.path} exact={r.isExact} key={r.path} component={LazyComponent(r.component)}/>)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t<Redirect from=\"/\" to={defaultReroute}/>\n\t\t\t\t\t\t\t<Redirect from=\"*\" to=\"/404\"/>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Page>\n\t\t</div>\n\t)\n};\n\nconst mapStateToProps = state => ({\n\tuser: state.user,\n\tusername: state.user.username,\n});\n\nconst mapDispatchToProps = dispatch => ({\n\tgetUser: username => dispatch(fetchUserData(username, {light: true, forced: true})),\n});\n\nconst methods = {\n\tcomponentDidMount(props) {\n\t\tprops.getUser();\n\t}\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(lifecycle(methods)(DashboardPage)));\n"],"sourceRoot":""}