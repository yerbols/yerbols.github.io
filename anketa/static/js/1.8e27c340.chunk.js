(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{783:function(e,t,a){"use strict";var n=a(0),s=a.n(n),i=a(784),r=a.n(i);t.a=function(){return s.a.createElement("header",{className:"color-white"},s.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},s.a.createElement("a",{href:"/"},s.a.createElement("img",{src:r.a,alt:"\u0410\u043b\u044c\u0444\u0430-\u0431\u0430\u043d\u043a",height:"70px",className:"mb-2"}))))}},784:function(e,t,a){e.exports=a.p+"static/media/alfa-logo-square.17c52dbb.svg"},785:function(e,t,a){"use strict";var n=a(0),s=a.n(n),i=a(786),r=a.n(i);t.a=function(){var e="url(".concat(r.a,")");return[s.a.createElement("div",{key:1,className:"fixed-background",style:{background:e,backgroundSize:"120px"}}),s.a.createElement("div",{key:2,className:"fixed-background",style:{background:"linear-gradient(180deg,rgba(255,255,255,0.9) 30%,rgba(255,255,255,0) 55%)"}})]}},786:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wAARCABiAPADASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECBv/EABcQAQEBAQAAAAAAAAAAAAAAAAABETH/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8A761NAF1WTQaE1QAATEaAZa1MQGmV1KCxWY0AlUBlpJFABLQLUFkAkUAA0AABKkaZBpMItuAyC4BqsrICgAAAmI0AzGgAAAABLUFkAkUAAAZWFSA0AAlUBkFgEigAAAJagNAAAAAAAAAAYAAFqaCiagAshQIrMaAABKjSSAoACWlqALISKABaAAAlqs0F01AGhnV0FAATFAZGkwF0ZXQRYVIDQAAACWrWQFkJFAAAZaSgRWWgEqgMtMrAMRpkDV0xAaEigAAJigMjQAAAAAYAAFoAyugtrIsgIsKgNAAlRpkBZCKAAACWgoy0AAAACUnQBQAAAAAZAAnWgAZAGpwABKAJOtAAAAyAE60AAAAAP//Z"},797:function(e,t,a){},908:function(e,t,a){"use strict";a.r(t);var n=a(16),s=a(17),i=a(19),r=a(18),o=a(20),A=a(0),c=a.n(A),l=(a(797),a(265)),u=a.n(l),h=a(27),m=a.n(h),d=a(37),p=a.n(d),f=a(783),g=a(902),b=a(799),E=a.n(b),j=a(159),N=a.n(j),v=a(249),k=a(70),y=a(15),w=a(32),F=a.n(w),B=a(8),x=a.n(B),S=a(11),C=a.n(S),O=a(126),P=a.n(O),Q=a(3),Y=a(64),D=a(250),R=function(e){return D.a.sendPassword(e).catch(function(e){throw e.message===Y.a?new Error(Y.a):new Error(Y.c)})},q=function(e){return D.a.sendPassword(e).catch(function(e){throw e.message===Y.a?new Error(Y.a):new Error(Y.c)})},I=a(52),W=a(69),Z=a(807),V=a.n(Z),G=a(256),M=a(14),J=a.n(M),L=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={phone:"",request:Q.j,visible:!1,isProcessing:!1,confirmationError:""},a.handleChange=a.handleChange.bind(Object(y.a)(a)),a.handlePhoneFocus=a.handlePhoneFocus.bind(Object(y.a)(a)),a.handlePhoneBlur=a.handlePhoneBlur.bind(Object(y.a)(a)),a.handleFormSubmit=a.handleFormSubmit.bind(Object(y.a)(a)),a.handleResendPassword=a.handleResendPassword.bind(Object(y.a)(a)),a.handleInputFinished=a.handleInputFinished.bind(Object(y.a)(a)),a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"pushNotification",value:function(e,t){this.props.pushNotification({message:e,options:t})}},{key:"handleChange",value:function(e,t){this.setState(Object(k.a)({},e,t))}},{key:"handlePhoneFocus",value:function(){if(""!==this.state.phone)return!1;this.setState({phone:"+77"})}},{key:"handlePhoneBlur",value:function(){if(this.state.phone.length>5)return!1;this.setState({phone:""})}},{key:"handleFormSubmit",value:function(){var e=Object(v.a)(N.a.mark(function e(){var t,a=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isFormValid){e.next=3;break}return this.pushNotification("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430",{status:"error",title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),e.abrupt("return");case 3:this.setState({request:Q.q}),t=this.state.phone.match(/\d+/g).map(Number).join(""),R(t).then(function(){a.setState({request:Q.N,visible:!0})}).catch(function(e){console.log({e:e}),a.setState({request:Q.n}),e.message===Y.a?a.pushNotification("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435",autoCloseDelay:3e3}):a.pushNotification("\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0436\u0435",{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",autoCloseDelay:3e3})});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleResendPassword",value:function(){var e=Object(v.a)(N.a.mark(function e(){var t,a=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isFormValid){e.next=3;break}return this.pushNotification("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430",{status:"error",title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),e.abrupt("return");case 3:t=this.state.phone.match(/\d+/g).map(Number).join(""),q(t).then(function(){}).catch(function(e){a.setState({request:Q.n}),e.message===Y.a?a.pushNotification("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435",autoCloseDelay:3e3}):a.pushNotification("\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0436\u0435",{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",autoCloseDelay:3e3})});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleInputFinished",value:function(){var e=Object(v.a)(N.a.mark(function e(t){var a,n=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isFormValid){e.next=3;break}return this.pushNotification("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430",{status:"error",title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),e.abrupt("return");case 3:a=this.state.phone.match(/\d+/g).join(""),this.setState({isProcessing:!0}),G.a.login(a,t).then(function(){n.setState({confirmationError:""}),n.setState({isProcessing:!1}),n.props.history.push("/dashboard")}).catch(function(e){console.log({e:e}),e.message===Y.a?n.setState({confirmationError:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043e\u0434"}):n.pushNotification("\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0436\u0435",{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",autoCloseDelay:3e3}),n.setState({isProcessing:!1})});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(F.a,{onSubmit:this.handleFormSubmit,className:"pb-0"},c.a.createElement(x.a,{className:"pb-0"},c.a.createElement(C.a,{width:"available",type:"tel",name:"phone",className:"text-left",mask:"+7 (711) 111-11-11",placeholder:"+7 (700) 000-00-00",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",value:this.state.phone,clear:!this.isLoading,onFocus:this.handlePhoneFocus,onBlur:this.handlePhoneBlur,onChange:function(t){e.handleChange("phone",t)},rightAddons:this.isLoading&&c.a.createElement(P.a,{size:"m",visible:!0})})),c.a.createElement(J.a,{type:"submit",view:"extra",className:"my-4",disabled:this.isLoading||!this.isFormValid},"\u0412\u043e\u0439\u0442\u0438")),c.a.createElement(V.a,{isVisible:this.state.visible,isProcessing:this.state.isProcessing,disabled:this.state.isProcessing,onClose:function(){return e.setState({visible:!1})},error:this.state.confirmationError,countdownDuration:6e4,onSmsRetryClick:this.handleResendPassword,phone:this.state.phone,onInputFinished:this.handleInputFinished}))}},{key:"isFormValid",get:function(){var e=[];return/^\+[0-9] \([0-9]{3}\) [0-9]{3}\x2D[0-9]{2}\x2D[0-9]{2}$/g.test(this.state.phone)||e.push({message:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430",prop:"phone"}),0===e.length}},{key:"isLoading",get:function(){return this.state.request===Q.q}}]),t}(c.a.Component),U=Object(g.a)(Object(I.b)(function(){return{}},function(e){return{pushNotification:function(t){return e(Object(W.b)(t))}}})(L)),K=a(785),T=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.user)return window.confirm("\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b. \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b?")?(console.log("yes"),this.props.history.push("/logout")):(console.log("cancel"),this.props.history.push("/"))}},{key:"render",value:function(){return c.a.createElement("div",{className:"login-page"},c.a.createElement(K.a,null),c.a.createElement(u.a,{theme:"alfa-on-white"},c.a.createElement("div",{className:"p-relative"},c.a.createElement("div",{className:"container d-flex flex-column",style:{minHeight:"100vh"}},c.a.createElement(f.a,null),c.a.createElement("div",{className:"login-form text-center py-3"},c.a.createElement(m.a,{size:"l",className:"mb-5"},"\u0410\u043b\u044c\u0444\u0430 - \u041e\u0444\u0438\u0441"),c.a.createElement("div",{className:"form-wrapper mx-auto",style:{maxWidth:"100%",width:"300px"}},c.a.createElement(U,null))),c.a.createElement("div",{className:"footer mt-auto mb-0"},c.a.createElement(E.a,{className:"my-2 text-center",items:[{phone:"2510  ",hint:"\u0437\u0432\u043e\u043d\u043a\u0438 \u0434\u043b\u044f \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043b\u0438\u0446"}]}),c.a.createElement(p.a,{className:"text-center opacity-high"},c.a.createElement("span",{className:"small"},"\xa9 2001\u20142019 \u0410\u043b\u044c\u0444\u0430-\u0411\u0430\u043d\u043a \u0420\u041a. v1.0.1")))))))}}]),t}(c.a.Component);t.default=Object(g.a)(T)}}]);
//# sourceMappingURL=1.8e27c340.chunk.js.map