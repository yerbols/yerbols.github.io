(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{260:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(261),r=a.n(i);t.a=function(){return s.a.createElement("header",{className:"color-white"},s.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},s.a.createElement("a",{href:"/"},s.a.createElement("img",{src:r.a,alt:"\u0410\u043b\u044c\u0444\u0430-\u0431\u0430\u043d\u043a",height:"55px",className:"my-2"}))))}},261:function(e,t,a){e.exports=a.p+"static/media/logo-alfabank-cyr-h.43e4616d.svg"},262:function(e,t,a){"use strict";var n=a(1),s=a.n(n),i=a(263),r=a.n(i);t.a=function(){var e="linear-gradient(-45deg,rgba(27,41,62,.5), rgba(20,40,73,.6)), url(".concat(r.a,")");return s.a.createElement("div",{className:"fixed-background",style:{background:e,backgroundSize:"cover"}})}},263:function(e,t,a){e.exports=a.p+"static/media/bg.27aae603.jpg"},373:function(e,t,a){},864:function(e,t,a){"use strict";a.r(t);var n=a(34),s=a(35),i=a(37),r=a(36),o=a(38),c=a(1),l=a.n(c),u=(a(373),a(81)),h=a.n(u),m=a(79),p=a.n(m),d=a(229),f=a.n(d),b=a(260),g=a(262),v=a(871),y=a(375),E=a.n(y),w=a(31),N=a.n(w),j=a(56),k=a(46),O=a(41),x=a(204),P=a.n(x),S=a(201),F=a.n(S),C=a(205),D=a.n(C),q=a(82),V=a.n(q),B=a(402),I=a.n(B),R=a(0),z=a(70),J=a(10),L=function(e){return z.a.sendPassword(e).catch(function(e){throw e.message===J.a?new Error(J.a):new Error(J.c)})},M=function(e){return z.a.resendPassword(e).catch(function(e){throw e.message===J.a?new Error(J.a):new Error(J.c)})},W=a(14),A=a(15),H=a(406),$=a.n(H),G=a(21),K=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(r.a)(t).call(this,e))).state={phone:"",request:R.i,visible:!1,isProcessing:!1,confirmationError:""},a.handleChange=a.handleChange.bind(Object(O.a)(a)),a.handlePhoneFocus=a.handlePhoneFocus.bind(Object(O.a)(a)),a.handlePhoneBlur=a.handlePhoneBlur.bind(Object(O.a)(a)),a.handleFormSubmit=a.handleFormSubmit.bind(Object(O.a)(a)),a.handleResendPassword=a.handleResendPassword.bind(Object(O.a)(a)),a.handleInputFinished=a.handleInputFinished.bind(Object(O.a)(a)),a}return Object(o.a)(t,e),Object(s.a)(t,[{key:"pushNotification",value:function(e,t){this.props.pushNotification({message:e,options:t})}},{key:"handleChange",value:function(e,t){this.setState(Object(k.a)({},e,t))}},{key:"handlePhoneFocus",value:function(){if(""!==this.state.phone)return!1;this.setState({phone:"+77"})}},{key:"handlePhoneBlur",value:function(){if(this.state.phone.length>5)return!1;this.setState({phone:""})}},{key:"handleFormSubmit",value:function(){var e=Object(j.a)(N.a.mark(function e(){var t,a=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isFormValid){e.next=3;break}return this.pushNotification("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430",{status:"error",title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),e.abrupt("return");case 3:this.setState({request:R.p}),t=this.state.phone.match(/\d+/g).map(Number).join(""),L(t).then(function(){a.setState({request:R.M,visible:!0})}).catch(function(e){a.setState({request:R.m}),e.message===J.a?a.pushNotification("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435",autoCloseDelay:3e3}):a.pushNotification("\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0436\u0435",{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",autoCloseDelay:3e3})});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleResendPassword",value:function(){var e=Object(j.a)(N.a.mark(function e(){var t,a=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isFormValid){e.next=3;break}return this.pushNotification("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430",{status:"error",title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),e.abrupt("return");case 3:t=this.state.phone.match(/\d+/g).map(Number).join(""),M(t).then(function(){}).catch(function(e){a.setState({request:R.m}),e.message===J.a?a.pushNotification("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0445\u043e\u0434\u0435",autoCloseDelay:3e3}):a.pushNotification("\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0436\u0435",{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",autoCloseDelay:3e3})});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleInputFinished",value:function(){var e=Object(j.a)(N.a.mark(function e(t){var a,n=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isFormValid){e.next=3;break}return this.pushNotification("\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430",{status:"error",title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"}),e.abrupt("return");case 3:a=this.state.phone.match(/\d+/g).map(Number).join(""),this.setState({isProcessing:!0}),G.a.login(a,t).then(function(){n.setState({confirmationError:""}),n.props.history.push("/dashboard")}).catch(function(e){e.message===J.a?n.setState({confirmationError:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043a\u043e\u0434"}):n.pushNotification("\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u043e\u0437\u0436\u0435",{status:"error",title:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430",autoCloseDelay:3e3}),n.setState({isProcessing:!1})});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(P.a,{onSubmit:this.handleFormSubmit,className:"pb-2"},l.a.createElement(F.a,null,l.a.createElement(D.a,{width:"available",type:"tel",name:"phone",className:"text-left",mask:"+7 (711) 111-11-11",placeholder:"+7 (700) 000-00-00",label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",value:this.state.phone,onFocus:this.handlePhoneFocus,onBlur:this.handlePhoneBlur,onChange:function(t){e.handleChange("phone",t)},rightAddons:this.isLoading?l.a.createElement(V.a,{size:"m",visible:!0}):l.a.createElement("button",{className:"no-appearance transition-fast "+(this.isFormValid?"":"opacity-low "),type:"submit"},l.a.createElement(I.a,null))}))),l.a.createElement($.a,{isVisible:this.state.visible,isProcessing:this.state.isProcessing,disabled:this.state.isProcessing,onClose:function(){return e.setState({visible:!1})},error:this.state.confirmationError,countdownDuration:6e4,onSmsRetryClick:this.handleResendPassword,phone:this.state.phone,onInputFinished:this.handleInputFinished}))}},{key:"isFormValid",get:function(){var e=[];return/^\+[0-9] \([0-9]{3}\) [0-9]{3}\x2D[0-9]{2}\x2D[0-9]{2}$/g.test(this.state.phone)||e.push({message:"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u043e\u043c\u0435\u0440\u0430",prop:"phone"}),0===e.length}},{key:"isLoading",get:function(){return this.state.request===R.p}}]),t}(l.a.Component),Q=Object(v.a)(Object(W.b)(function(){return{}},function(e){return{pushNotification:function(t){return e(Object(A.c)(t))}}})(K)),T=function(e){function t(){return Object(n.a)(this,t),Object(i.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.user)return window.confirm("\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b. \u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b?")?(console.log("yes"),this.props.history.push("/logout")):(console.log("cancel"),this.props.history.push("/"))}},{key:"render",value:function(){return l.a.createElement("div",{className:"login-page"},l.a.createElement(g.a,null),l.a.createElement(h.a,{theme:"alfa-on-color"},l.a.createElement("div",{className:"p-relative"},l.a.createElement("div",{className:"container d-flex flex-column",style:{minHeight:"100vh"}},l.a.createElement(b.a,null),l.a.createElement("div",{className:"login-form text-center py-3"},l.a.createElement(p.a,{size:"l",className:"mb-5"},"\u0410\u043b\u044c\u0444\u0430 - \u041e\u0444\u0438\u0441"),l.a.createElement("div",{className:"form-wrapper mx-auto",style:{maxWidth:"100%",width:"300px"}},l.a.createElement(Q,null),l.a.createElement(f.a,{className:"text-center opacity-high"},l.a.createElement("span",{className:"small"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443")))),l.a.createElement("div",{className:"footer mt-auto mb-0"},l.a.createElement(E.a,{className:"my-2",items:[{phone:"+7 717 377-77-78",hint:"\u2014 \u043f\u043e \u0433\u043e\u0440\u043e\u0434\u0441\u043a\u043e\u0439 \u043b\u0438\u043d\u0438\u0438"},{phone:"+7 702 111-77-33",hint:"\u2014 \u0434\u043b\u044f \u0437\u0432\u043e\u043d\u043a\u043e\u0432 \u043f\u043e \u0441\u043e\u0442\u043e\u0432\u043e\u0439 \u0441\u0432\u044f\u0437\u0438"}]}),l.a.createElement(f.a,{className:"text-center opacity-high"},l.a.createElement("span",{className:"small"},"\xa9 2001\u20142019 \u0410\u043b\u044c\u0444\u0430-\u0411\u0430\u043d\u043a \u0420\u041a")))))))}}]),t}(l.a.Component);t.default=Object(v.a)(T)}}]);
//# sourceMappingURL=2.d836d425.chunk.js.map